<% content_for :scripts do %>
  <%= javascript_include_tag "http://maps.google.com/maps/api/js?sensor=false" %>
  <%= javascript_include_tag "location" %>
<% end %>

<% content_for :stylesheets do %>
  <%= stylesheet_link_tag "bootstrap-tagsinput" %>
<% end %>

<div class="container">
	<div class="row"> 
		<div class="col-md-6 well">
			<%= form_for @location, html: {class: "form-horizontal"} do |f| %>
				<div class="form-group has-feedback">
					<%= f.label :name, "Nombre", class: "col-sm-3 control-label" %>
					<div class="col-sm-9">
						<%= f.text_field :name, :autofocus => true, class: "form-control" %>
						<span class="help-block"></span>
              			<span class="form-control-feedback"></span>
					</div>
				</div>
				<div class="form-group has-feedback">
					<%= label_tag :country, "País", class: "col-sm-3 control-label" %>
					<div class="col-sm-9">
						<%= select_tag :country, options_from_collection_for_select(Country.all.order(:name), :id, :name), class: "form-control", include_blank: true %>
						<span class="help-block"></span>
              			<span class="form-control-feedback"></span>
					</div>
				</div>
				<div class="form-group has-feedback">
					<%= label_tag :region, "Región", class: "col-sm-3 control-label" %>
					<div class="col-sm-9">
						<%= select_tag :region, options_from_collection_for_select(Region.all.order(:name), :id, :name), class: "form-control", :disabled => true %>
						<span class="help-block"></span>
              			<span class="form-control-feedback"></span>
					</div>
				</div>
				<div class="form-group has-feedback">
					<%= label_tag :city, "Ciudad", class: "col-sm-3 control-label" %>
					<div class="col-sm-9">
						<%= select_tag :city, options_from_collection_for_select(City.all.order(:name), :id, :name), class: "form-control", :disabled => true %>
						<span class="help-block"></span>
              			<span class="form-control-feedback"></span>
					</div>
				</div>
				<div class="form-group has-feedback">
					<%= f.label :district_id, "Comuna", class: "col-sm-3 control-label" %>
					<div class="col-sm-9">
						<%= f.collection_select :district_id, District.all.order(:name), :id, :name, {}, { class: "form-control", :disabled => true }%>
						<span class="help-block"></span>
              			<span class="form-control-feedback"></span>
					</div>
				</div>
				<div class="form-group has-feedback">
					<%= f.label :address, "Dirección", class: "col-sm-3 control-label" %>
					<div class="col-sm-9">
						<%= f.text_field :address, class: "form-control" %>
						<span class="help-block"></span>
              			<span class="form-control-feedback"></span>
						<div class="checkbox">
			                <label>
			                	<%= f.check_box :outcall %> Sin Dirección (sólo servicios a domicilio).
			                </label>
			            </div>
			           	<div id="districtsCheckboxes" class='hidden'>
			           		
			           	</div>
					</div>
				</div>
				<div class="form-group has-feedback">
					<%= f.label :phone, "Teléfono", class: "col-sm-3 control-label" %>
					<div class="col-sm-9">
						<%= f.text_field :phone, class: "form-control" %>
						<span class="help-block"></span>
              			<span class="form-control-feedback"></span>
					</div>
				</div>

				<%= f.hidden_field :latitude %>
				<%= f.hidden_field :longitude %>
				<div class="form-group">
					<div class="actions col-sm-offset-3 col-sm-9">
						<button type="button" class="btn btn-primary" id="saveLocation">Guardar</button>
						<%= link_to 'Cancelar'.html_safe, locations_path, :class => "btn btn-default" %>
					</div>
				</div>
			<% end %>
		</div>

		<div class="col-md-6">
			<div class="panel panel-info">
				<div class="panel-heading">
					<h3 class="panel-title">
						Horario Local
					</h3>
				</div>
				<div class="panel-body">
					<table class="table">
						<tbody id="localTable">
							<tr>
								<th>Día</th>
								<th>Apertura</th>
								<th>Cierre</th>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>