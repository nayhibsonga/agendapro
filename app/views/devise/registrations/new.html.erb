<h2>Regístrate</h2>

<% if params[:company] %>
	<%= form_for resource, :as => resource_name, :url => registration_path(resource_name), :html => { class: 'form-horizontal' } do |f| %>
		<!-- Usuario -->
		<%= f.hidden_field :role_id, :value => Role.where(:name => "Admin").first.id %>
		<div class="form-group">
			<%= f.label :email, 'Email', :class => 'col-sm-4 control-label' %>
			<div class="col-sm-8">
				<%= f.email_field :email, :autofocus => true, :required => true, :class => 'form-control' %>
			</div>
		</div>
		<div class="form-group">
			<%= f.label :password, 'Contraseña', :class => 'col-sm-4 control-label' %>
			<div class="col-sm-8">
				<%= f.password_field :password, :required => true, :class => 'form-control' %>
			</div>
		</div>
		<div class="form-group">
			<%= f.label :password_confirmation, 'Confirmar contraseña', :class => 'col-sm-4 control-label' %>
			<div class="col-sm-8">
				<%= f.password_field :password_confirmation, :required => true, :class => 'form-control' %>
			</div>
		</div>
		<!-- Company -->
		<%= fields_for :company do |c| %>
			<%= c.hidden_field :payment_status, :value => PaymentStatus.where(:name => "Al día").first.id %>
			<div class="form-group">
				<%= c.label :name, 'Nombre de la Compañia', :class => 'col-sm-4 control-label' %>
				<div class="col-sm-8">
					<%= c.text_field :name, :required => true, :class => 'form-control' %>
				</div>
			</div>
			<div class="form-group">
				<%= c.label :web_address, 'Direccion web', :class => 'col-sm-4 control-label' %>
				<div class="col-sm-8">
					<%= c.text_field :web_address, :required => true, :class => 'form-control' %>
				</div>
			</div>
			<div class="form-group">
				<%= c.label :plan, 'Plan', :class => 'col-sm-4 control-label' %>
				<div class="col-sm-8">
					<%= c.collection_select :plan, Plan.where(:custom => false), :id, :name, {:selected => params[:plan]}, {:class => 'form-control'} %>
				</div>
			</div>
			<div class="form-group">
				<%= c.label :economic_sector, 'Sector Economico', :class => 'col-sm-4 control-label' %>
				<div class="col-sm-8">
					<%= c.collection_select :economic_sector, EconomicSector.all, :id, :name, {}, {:class => 'form-control'} %>
				</div>
			</div>
		<% end %>
		<div class="form-group">
				<div class="col-sm-offset-4 col-sm-8">
						<%= submit_tag 'Regístrate', :class => 'btn btn-default' %>
				</div>
		</div>
	<% end %>
<% else %>
	<%= form_for resource, :as => resource_name, :url => registration_path(resource_name), :html => { class: 'form-horizontal' } do |f| %>
		<%= f.hidden_field :role_id, :value => Role.where(:name => "Usuario Registrado").first.id %>
		<div class="form-group">
			<%= f.label :email, 'Email', :class => 'col-sm-4 control-label' %>
			<div class="col-sm-8">
				<%= f.email_field :email, :autofocus => true, :required => true, :class => 'form-control' %>
			</div>
		</div>
		<div class="form-group">
			<%= f.label :password, 'Contraseña', :class => 'col-sm-4 control-label' %>
			<div class="col-sm-8">
				<%= f.password_field :password, :required => true, :class => 'form-control' %>
			</div>
		</div>
		<div class="form-group">
			<%= f.label :password_confirmation, 'Confirmar contraseña', :class => 'col-sm-4 control-label' %>
			<div class="col-sm-8">
				<%= f.password_field :password_confirmation, :required => true, :class => 'form-control' %>
			</div>
		</div>
		<div class="form-group">
			<div class="col-sm-offset-4 col-sm-8">
				<%= submit_tag 'Regístrate', :class => 'btn btn-default' %>
			</div>
		</div>
	<% end %>
<% end %>
<%= render "devise/shared/links" %>
